/*
 Hype Sticky Scroll 1.4.0
Copyright (c) 2022-2025 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeStickyScroll"in window&&(window.HypeStickyScroll=function(){function F(a,p){"object"==typeof a?z=a:z[a]=p}function m(a){return a?z[a]:z}function E(){const a=window.lenis||null;return a?a.animatedScroll:window.scrollY}function G(a,p){var q=a.clientHeight,u=getComputedStyle(a),t=getComputedStyle(p),w=parseFloat(u.paddingTop),l=parseFloat(t.paddingTop);u=parseFloat(u.paddingBottom);const x=parseFloat(t.paddingBottom);t=p.clientHeight-(l+x);w=a.getBoundingClientRect().top+w;l=p.getBoundingClientRect().top+
l;a=a.getBoundingClientRect().bottom-u;p=p.getBoundingClientRect().bottom-x;if(a<l)return 0;if(w>p)return 1;q=t-q;return 0===q?0:(w-l)/q}let z={ignoreSceneSymbol:"\ud83d\udd12",wrapperHeight:5E3,autoScrollSpeed:1,snapToBoundaries:!0,updateOnFocus:!0,viewportHeightUnit:"dvh",lenis:!1,lenisOptions:{duration:1.2,easing:a=>Math.min(1,1.001-Math.pow(2,-10*a)),direction:"vertical",smooth:!0},snapPoints:[],snapTolerance:{before:200,after:50},snapDelay:1E3,snapDuration:"auto",snapEasing:"inout"};!1==="HYPE_eventListeners"in
window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,p,q){function u(b){const c=a.sceneInfo.findIndex(h=>h.name===b);if(-1===c)return null;let d=0;for(var g=0;g<c;g++)d+=a.sceneInfo[g].duration;g=a.sceneInfo[c].duration;const e=a.sceneInfo.reduce((h,f)=>h+f.duration,0);return{sceneIndex:c,startProgress:d/e,endProgress:(d+g)/e,startTime:d,endTime:d+g,duration:g}}function t(){if(!A){var b=G(x,l);if(a.snapEnabled&&0<a.snapPoints.length){const f=
E();a.scrollVelocity=Math.abs(f-a.lastScrollY);a.lastScrollY=f;a.snapTimeout&&(clearTimeout(a.snapTimeout),a.snapTimeout=null);a.snapTimeout=setTimeout(()=>{let n=null,v=Infinity;for(const k of a.snapPoints){const y=f-k.scrollY,r=Math.abs(y);r<=(0<y?k.tolerance.after:k.tolerance.before)&&r<v&&(v=r,n=k)}n&&a.scrollToProgress(n.progress,{duration:a.snapConfig.duration,easing:a.snapConfig.easing})},a.snapConfig.delay)}if(a.focusedScene&&m("snapToBoundaries")){var c=u(a.focusedScene);if(c){if(b<c.startProgress){a.scrollToProgress(c.startProgress,
{duration:0});return}if(b>c.endProgress){a.scrollToProgress(c.endProgress,{duration:0});return}}}var d=b*H,g=c=0;for(let f=0;f<a.sceneInfo.length;f++){var e=a.sceneInfo[f];g+=e.duration;if(g>d){c=f;break}}g<=d&&(c=a.sceneInfo.length-1,e=a.sceneInfo[c]);var h=d-(g-e.duration);a.focusedScene&&(d=a.sceneInfo.findIndex(f=>f.name===a.focusedScene),-1!==d&&(c<d?(c=d,e=a.sceneInfo[d],h=0):c>d&&(c=d,e=a.sceneInfo[d],h=e.duration)));cancelAnimationFrame(A);A=requestAnimationFrame(function(){a.currentSceneName()!=
e.name&&a.showSceneNamed(e.name);a.pauseTimelineNamed("timelineName");a.goToTimeInTimelineNamed(h,"timelineName");a.lastPercentage!==b&&(a.lastPercentage=b,0===b?(a.triggerCustomBehaviorNamed("stickyScrollBefore"),void 0!==a.functions().stickyScrollBefore&&a.functions().stickyScrollBefore(a,p,q)):1===b&&(a.triggerCustomBehaviorNamed("stickyScrollAfter"),void 0!==a.functions().stickyScrollAfter&&a.functions().stickyScrollAfter(a,p,q)));A=null})}}function w(b,c){switch(c){case "in":return b*b;case "out":return b*
(2-b);case "inout":return.5>b?2*b*b:-1+(4-2*b)*b;default:return b}}let l=null,x=null,A=null,H=0;const B=a.sceneNames().filter(b=>!b.startsWith(m("ignoreSceneSymbol"))),I=a.currentSceneName();a.sceneInfo=[];a.runningStickySetup=!1;a.focusedScene=null;a.snapEnabled=!1;a.snapPoints=[];a.snapConfig=null;a.snapTimeout=null;a.lastScrollY=0;a.scrollVelocity=0;a.enableStickyScroll=function(b){l?a.isStickyScrollRunning||(l.style.height=b?b+"px":m("wrapperHeight")+"px",a.isStickyScrollRunning=!0,requestAnimationFrame(function(){const c=
window.lenis||null;if(c)c.on("scroll",t);else window.addEventListener("scroll",t),window.dispatchEvent(new Event("scroll"))})):requestAnimationFrame(()=>a.enableStickyScroll(b))};a.disableStickyScroll=function(){a.isStickyScrollRunning=!1;const b=window.lenis||null;b?b.off("scroll",t):window.removeEventListener("scroll",t)};a.setSceneFocus=function(b){a.focusedScene=b;m("updateOnFocus")&&window.dispatchEvent(new Event("scroll"))};a.clearSceneFocus=function(){a.focusedScene=null};a.setupScrollSnapping=
function(b={}){if(a.sceneInfo&&0!==a.sceneInfo.length){var c={snapPoints:b.snapPoints||m("snapPoints")||[],tolerance:{before:b.tolerance?.before??m("snapTolerance")?.before??200,after:b.tolerance?.after??m("snapTolerance")?.after??50},delay:b.delay??m("snapDelay")??1E3,duration:b.duration??m("snapDuration")??"auto",easing:b.easing??m("snapEasing")??"inout"};c.snapPoints&&0!==c.snapPoints.length?(a.snapPoints=c.snapPoints.map(d=>{var g=d.time;"end"===d.time&&(g=(g=a.sceneInfo.find(f=>f.name===d.scene))?
g.duration:0);const e=a.getProgressFromSceneTime(d.scene,g),h=a.getScrollFromProgress(e);return{scene:d.scene,time:g,progress:e,scrollY:h,tolerance:{before:d.tolerance?.before??c.tolerance.before,after:d.tolerance?.after??c.tolerance.after}}}),a.snapConfig=c,a.snapEnabled=!0):console.warn("HypeStickyScroll: setupScrollSnapping called without snap points. Snapping not enabled.")}else requestAnimationFrame(()=>a.setupScrollSnapping(b))};a.disableScrollSnapping=function(){a.snapEnabled=!1;a.snapTimeout&&
(clearTimeout(a.snapTimeout),a.snapTimeout=null)};a.isScrollSnappingEnabled=function(){return a.snapEnabled};a.getProgress=function(){return x&&l?G(x,l):0};a.getScrollFromProgress=function(b){if(!l)return 0;var c=getComputedStyle(l);const d=parseFloat(c.paddingTop);c=l.clientHeight-(d+parseFloat(c.paddingBottom));return Math.ceil(b*(c-window.innerHeight)+d)};a.getProgressFromSceneTime=function(b,c){if(!a.sceneInfo||0===a.sceneInfo.length)return 0;const d=a.sceneInfo.findIndex(e=>e.name===b);if(-1===
d)return 0;let g=0;for(let e=0;e<d;e++)g+=a.sceneInfo[e].duration;g+=Math.max(0,Math.min(c,a.sceneInfo[d].duration));c=a.sceneInfo.reduce((e,h)=>e+h.duration,0);return g/c};a.scrollToProgress=function(b,c={}){const {duration:d=0,easing:g="inout",offset:e=0}=c;b=Math.max(0,Math.min(1,b));b=a.getScrollFromProgress(b);if(0!==e){c=getComputedStyle(l);var h=parseFloat(c.paddingTop);c=l.clientHeight-(h+parseFloat(c.paddingBottom));"string"===typeof e&&e.endsWith("%")?(h=parseFloat(e)/100,b+=h*(c-window.innerHeight)):
b="string"===typeof e&&e.endsWith("px")?b+parseFloat(e):b+parseFloat(e)*(c-window.innerHeight)}c=window.lenis||null;if(0===d)c?(c.scrollTo(b,{immediate:!0}),requestAnimationFrame(()=>{window.dispatchEvent(new Event("scroll"))})):window.scrollTo({top:b,behavior:"auto"});else if(c)h=d,"auto"===d&&(h=Math.abs(b-E())/m("autoScrollSpeed")/1E3),c.scrollTo(b,{duration:h,easing:"linear"===g?f=>f:"in"===g?f=>f*f:"out"===g?f=>f*(2-f):f=>.5>f?2*f*f:-1+(4-2*f)*f});else{const f=performance.now(),n=window.scrollY,
v=b-n;let k=1E3*d;"auto"===d&&(k=Math.abs(v)/m("autoScrollSpeed"));requestAnimationFrame(function C(r){r=Math.min((r-f)/k,1);const J=w(r,g);window.scrollTo({top:n+v*J});1>r&&requestAnimationFrame(C)})}};requestAnimationFrame(function(){var b=document.getElementById(a.documentId()),c=b.parentNode;const d=b.nextSibling,g=document.createElement("div");g.classList.add("wrapper");g.style.position="relative";g.appendChild(b);b.style.position="sticky";b.classList.add("sticky");b.style.top="0px";var e=m("viewportHeightUnit");
b.style.height=b.style.height.replace("%",e);e=document.createElement("style");e.innerHTML="#"+b.id+" { height: "+b.style.height+" !important; }";document.head.appendChild(e);d?c.insertBefore(g,d):c.appendChild(g);l=g;x=document.querySelector(".sticky");for(b=0;b<B.length;b++)a.showSceneNamed(B[b]),c=a.durationForTimelineNamed("timelineName"),H+=c,a.sceneInfo.push({name:B[b],duration:c,layouts:a.layoutsForSceneNamed(B[b])});a.showSceneNamed(I);(b=m("snapPoints"))&&0<b.length&&a.setupScrollSnapping();
delete a.runningStickySetup});a.scrollToSceneStart=function(b,c={}){if(a.sceneInfo&&0!==a.sceneInfo.length){var {duration:d=0,easing:g="linear",offset:e=0}=c,h=a.sceneInfo.findIndex(k=>k.name===b);if(-1!==h){var f=0;for(var n=0;n<h;n++)f+=a.sceneInfo[n].duration;n=a.sceneInfo.reduce((k,y)=>k+y.duration,0);h=getComputedStyle(l);var v=parseFloat(h.paddingTop);h=l.clientHeight-(v+parseFloat(h.paddingBottom));f=Math.ceil(f/n*(h-window.innerHeight)+v);0!==e&&("string"===typeof e&&e.endsWith("%")?(n=parseFloat(e)/
100,f+=n*(h-window.innerHeight)):f="string"===typeof e&&e.endsWith("px")?f+parseFloat(e):f+parseFloat(e)*(h-window.innerHeight));h=window.lenis||null;if(0===d)h?(h.scrollTo(f,{immediate:!0}),requestAnimationFrame(()=>{window.dispatchEvent(new Event("scroll"))})):window.scrollTo({top:f,behavior:"auto"});else if(h)n=d,"auto"===d&&(n=Math.abs(f-E())/m("autoScrollSpeed")/1E3),h.scrollTo(f,{duration:n,easing:"linear"===g?k=>k:"in"===g?k=>k*k:"out"===g?k=>k*(2-k):k=>.5>k?2*k*k:-1+(4-2*k)*k});else{const k=
performance.now(),y=window.scrollY,r=f-y;let C=1E3*d;"auto"===d&&(C=Math.abs(r)/m("autoScrollSpeed"));requestAnimationFrame(function K(D){D=Math.min((D-k)/C,1);const L=w(D,g);window.scrollTo({top:y+r*L});1>D&&requestAnimationFrame(K)})}}}else requestAnimationFrame(()=>a.scrollToSceneStart(b,c))};a.scrollToSceneTime=function(b,c,d={}){if(a.sceneInfo&&0!==a.sceneInfo.length){var g=a.getProgressFromSceneTime(b,c);a.scrollToProgress(g,d)}else requestAnimationFrame(()=>a.scrollToSceneTime(b,c,d))}}});
window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,p,q){if(void 0!==a.runningStickySetup)return a.runningStickySetup}});return{version:"1.4.0",getDefault:m,setDefault:F,setupLenis:function(a={}){function p(u){q.raf(u);requestAnimationFrame(p)}if("undefined"===typeof Lenis)return console.error("HypeStickyScroll: Lenis library not found. Please load Lenis before calling setupLenis()"),null;a=Object.assign({},m("lenisOptions"),a);const q=new Lenis(a);requestAnimationFrame(p);window.lenis=
q;F("lenis",!0);return q}}}());
