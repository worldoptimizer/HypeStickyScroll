/*
 Hype Sticky Scroll 1.0.5
Copyright (c) 2022 Max Ziebell, (https://maxziebell.de). MIT-license
*/
!1==="HypeStickyScroll"in window&&(window.HypeStickyScroll=function(){function w(a){return a?r[a]:r}function C(a){const d=a.parentNode,h=a.nextSibling,e=document.createElement("div");e.classList.add("wrapper");e.style.position="relative";e.appendChild(a);a.style.position="sticky";a.classList.add("sticky");a.style.top="0px";a.style.height=a.style.height.replace("%","vh");const g=document.createElement("style");g.innerHTML="#"+a.id+" { height: "+a.style.height+" !important; }";document.head.appendChild(g);
h?d.insertBefore(e,h):d.appendChild(e);return e}function y(a,d){const h=a.clientHeight;var e=getComputedStyle(a),g=getComputedStyle(d),k=parseFloat(e.paddingTop),l=parseFloat(g.paddingTop);e=parseFloat(e.paddingBottom);const q=parseFloat(g.paddingBottom);g=d.clientHeight-(l+q);k=a.getBoundingClientRect().top+k;l=d.getBoundingClientRect().top+l;a=a.getBoundingClientRect().bottom-e;d=d.getBoundingClientRect().bottom-q;return a<l?0:k>d?1:(k-l)/(g-h)}let r={ignoreSceneSymbol:"\ud83d\udd12",wrapperHeight:5E3};
!1==="HYPE_eventListeners"in window&&(window.HYPE_eventListeners=[]);window.HYPE_eventListeners.push({type:"HypeDocumentLoad",callback:function(a,d,h){function e(){if(!q){var b=y(l,k),c=b*z,m=0;for(let n=0;n<a.sceneInfo.length;n++){var f=a.sceneInfo[n];m+=f.duration;if(m>c)break}var p=c-(m-f.duration);cancelAnimationFrame(q);q=requestAnimationFrame(function(){a.currentSceneName()!=f.name&&a.showSceneNamed(f.name);a.pauseTimelineNamed("timelineName");a.goToTimeInTimelineNamed(p,"timelineName");a.lastPercentage!==
b&&(a.lastPercentage=b,0===b?(a.triggerCustomBehaviorNamed("stickyScrollBefore"),void 0!==a.functions().stickyScrollBefore&&a.functions().stickyScrollBefore(a,d,h)):1===b&&(a.triggerCustomBehaviorNamed("stickyScrollAfter"),void 0!==a.functions().stickyScrollAfter&&a.functions().stickyScrollAfter(a,d,h)));q=null})}}function g(b,c){switch(c){case "in":return b*b;case "out":return b*(2-b);case "inout":return.5>b?2*b*b:-1+(4-2*b)*b;default:return b}}const k=C(document.getElementById(a.documentId())),
l=document.querySelector(".sticky");let q=null,z=0;const t=a.sceneNames().filter(b=>!b.startsWith(w("ignoreSceneSymbol"))),D=a.currentSceneName();a.sceneInfo=[];a.runningStickySetup=!1;a.enableStickyScroll=function(b){a.isStickyScrollRunning||(k.style.height=b?b+"px":w("wrapperHeight")+"px",a.isStickyScrollRunning=!0,requestAnimationFrame(function(){window.addEventListener("scroll",e);window.dispatchEvent(new Event("scroll"))}))};a.disableStickyScroll=function(){a.isStickyScrollRunning=!1;window.removeEventListener("scroll",
e)};a.getProgress=function(){return y(l,k)};a.getScrollFromProgress=function(b){var c=document.querySelector(".wrapper");const m=getComputedStyle(c),f=parseFloat(m.paddingTop);c=c.clientHeight-(f+parseFloat(m.paddingBottom));return Math.ceil(b*(c-window.innerHeight)+f)};for(let b=0;b<t.length;b++){a.showSceneNamed(t[b]);const c=a.durationForTimelineNamed("timelineName");z+=c;a.sceneInfo.push({name:t[b],duration:c,layouts:a.layoutsForSceneNamed(t[b])})}a.showSceneNamed(D);delete a.runningStickySetup;
a.scrollToSceneStart=function(b,c=0,m="linear"){var f=a.sceneNames().indexOf(b);b=0;for(var p=0;p<f;p++)b+=a.sceneInfo[p].duration;f=a.sceneInfo.reduce((x,u)=>x+u.duration,0);var n=document.querySelector(".wrapper");const A=getComputedStyle(n);p=parseFloat(A.paddingTop);n=n.clientHeight-(p+parseFloat(A.paddingBottom));b=Math.ceil(b/f*(n-window.innerHeight)+p);if(0===c)window.scrollTo({top:b,behavior:"auto"});else{const x=performance.now(),u=window.scrollY,B=b-u;"auto"===c&&(c=Math.abs(B));requestAnimationFrame(function E(v){v=
Math.min((v-x)/c,1);const F=g(v,m);window.scrollTo({top:u+B*F});1>v&&requestAnimationFrame(E)})}}}});window.HYPE_eventListeners.push({type:"HypeSceneLoad",callback:function(a,d,h){if(void 0!==a.runningStickySetup)return a.runningStickySetup}});return{version:"1.0.5",getDefault:w,setDefault:function(a,d){"object"==typeof a?r=a:r[a]=d}}}());
